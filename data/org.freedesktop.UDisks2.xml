<!DOCTYPE node PUBLIC
"-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
"http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<node name="/" xmlns:doc="http://www.freedesktop.org/dbus/1.0/doc.dtd">

  <!-- ********************************************************************** -->

  <interface name="org.freedesktop.UDisks2.LinuxSysfsDevice">
    <property name="SysfsPath" type="ay" access="read"/>
    <property name="Subsystem" type="ay" access="read"/>

    <signal name="UEvent">
      <arg name="action" type="ay"/>
    </signal>
  </interface>

  <!-- ********************************************************************** -->

  <interface name="org.freedesktop.UDisks2.Lun">
    <property name="Vendor" type="ay" access="read"/>
    <property name="Model" type="ay" access="read"/>
    <property name="Revision" type="ay" access="read"/>
    <property name="Serial" type="ay" access="read"/>
    <property name="WWN" type="s" access="read"/>

    <!-- Whether the media can be removed -->
    <property name="MediaRemovable" type="b" access="read"/>

    <!-- Is set to 0 if, and only if, no media is inserted -->
    <property name="Size" type="t" access="read"/>

    <!--
      The physical kind of media the drive uses. Known values include

       - flash: Flash Card
       - flash_cf: CompactFlash
       - flash_ms: MemoryStick
       - flash_sm: SmartMedia
       - flash_sd: Secure Digital
       - flash_sdhc: Secure Digital High-Capacity
       - flash_mmc: MultiMediaCard
       - floppy: Floppy Disk
       - floppy_zip: Zip Disk
       - floppy_jaz: Jaz Disk
       - optical: Optical Disc
       - optical_cd: Compact Disc
       - optical_cd_r: Compact Disc Recordable
       - optical_cd_rw: Compact Disc Rewritable
       - optical_dvd: Digital Versatile Disc
       - optical_dvd_r: DVD-R
       - optical_dvd_rw: DVD-RW
       - optical_dvd_ram: DVD-RAM
       - optical_dvd_plus_r: DVD+R
       - optical_dvd_plus_rw: DVD+RW
       - optical_dvd_plus_r_dl: DVD+R Dual Layer
       - optical_dvd_plus_rw_dl: DVD+RW Dual Layer
       - optical_bd: Blu-ray Disc
       - optical_bd_r: Blu-ray Recordable
       - optical_bd_re: Blu-ray Rewritable
       - optical_hddvd: HD-DVD
       - optical_hddvd_r: HD-DVD Recordable
       - optical_hddvd_rw: HD-DVD Rewritable
       - optical_mo: Magneto Optical
       - optical_mrw: Can read Mount Rainer media
       - optical_mrw_w: Can write Mount Rainer media
    -->
    <property name="MediaCompatibility" type="as" access="read"/>

    <!--
      The kind of media currently in the drive. Known values
      include the ones listed for the MediaCompatibility property
      above.
    -->
    <property name="Media" type="s" access="read"/>

    <!--
      The rotational rate of the drive.

       o -1 if known to be rotating media but rotation rate isn't known
       o 0 if known to be non-rotating media
       o the rotation rate in rounds per minute otherwise
    -->
    <property name="RotationRate" type="i" access="read"/>
  </interface>

  <!-- ********************************************************************** -->

  <interface name="org.freedesktop.UDisks2.BlockDevice">
    <property name="Device" type="ay" access="read"/>
    <property name="Symlinks" type="aay" access="read"/>
    <property name="Major" type="x" access="read"/>
    <property name="Minor" type="x" access="read"/>
    <property name="Size" type="t" access="read"/>

    <!-- The preferred device to present in the UI - could be e.g.
         /dev/mapper/mpathk instead of /dev/dm-10
    -->
    <property name="PreferredDevice" type="ay" access="read"/>

    <!-- The org.freedesktop.UDisks2.Lun object that the block device belongs
         to, or '/' if no such object exists.
      -->
    <property name="Lun" type="o" access="read"/>

    <!-- Properties related what's on the block device -->
    <property name="IdUsage" type="s" access="read"/>
    <property name="IdType" type="s" access="read"/>
    <property name="IdVersion" type="s" access="read"/>
    <property name="IdLabel" type="ay" access="read"/>
    <property name="IdUUID" type="ay" access="read"/>

    <!-- Partition Table -->
    <property name="PartTable" type="b" access="read"/>
    <property name="PartTableScheme" type="s" access="read"/>

    <!-- Partition Table Entry -->
    <property name="PartEntry" type="b" access="read"/>
    <property name="PartEntryNumber" type="u" access="read"/>
    <property name="PartEntryScheme" type="s" access="read"/>
    <property name="PartEntryType" type="s" access="read"/>
    <property name="PartEntryFlags" type="s" access="read"/>
    <property name="PartEntryOffset" type="t" access="read"/>
    <property name="PartEntrySize" type="t" access="read"/>
    <property name="PartEntryLabel" type="ay" access="read"/>
    <property name="PartEntryUUID" type="ay" access="read"/>
    <!-- The BlockDevice object the entry is part of ('/' if not an entry) -->
    <property name="PartEntryTable" type="o" access="read"/>

    <!-- Properties and Methods related to whether the device holds a filesystem -->
    <property name="FilesystemMountPoints" type="aay" access="read"/>
    <method name="FilesystemMount">
      <arg name="filesystem_type" direction="in" type="s"/>
      <arg name="options" direction="in" type="as"/>
      <arg name="mount_path" direction="out" type="ay"/>
    </method>
    <method name="FilesystemUnmount">
      <arg name="options" direction="in" type="as"/>
    </method>
    <method name="FilesystemSetLabel">
      <arg name="label" direction="in" type="ay"/>
      <arg name="options" direction="in" type="as"/>
    </method>

    <!-- The BlockDevice object that is backing the device ('/' if unknown or not a crypto device)  -->
    <property name="CryptoBackingDevice" type="o" access="read"/>

    <!-- Loop Device -->
    <property name="LoopBackingFile" type="ay" access="read"/>
  </interface>

  <!-- ********************************************************************** -->

  <interface name="org.freedesktop.UDisks2.Job">
    <property name="Progress" type="d" access="read"/>
    <property name="StartTime" type="t" access="read"/>
    <property name="ExpectedEndTime" type="t" access="read"/>

    <method name="Cancel">
      <arg name="options" direction="in" type="as"/>
    </method>

    <signal name="Completed">
      <arg name="success" type="b"/>
      <arg name="message" type="s"/>
    </signal>
  </interface>

  <!-- ********************************************************************** -->

  <interface name="org.freedesktop.UDisks2.ConfigurationItem">

    <!-- Possible configuration types:

         - fsmount: The configuration directive for mounting a filesystem
    -->
    <property name="Type" type="s" access="read"/>

    <!-- The identification data used for identifying what target object to
         the configuration item to. Supported strings are

         - block:/path/to/dev/file - a path to a device file, e.g.
                                     /dev/disk/by-uuid/A2B8-8BC9
    -->
    <property name="Target" type="ay" access="read"/>

    <!-- A set of key/value pairs describing options used when applying the configuration.

         Type specific keys are always prefixed with "<type>:". Known keys include

         fsmount:path (ay)         -> Where to mount the target
         fsmount:type (ay)         -> The filesystem type to use
         fsmount:options (ay)      -> The mount options to use (comma separated list of options)
    -->
    <property name="Options" type="a{sv}" access="read"/>


    <!-- Whether the requested configuration can be applied at this point -->
    <property name="CanApply" type="b" access="read"/>

    <!-- Whether the requested configuration is currently applied -->
    <property name="IsApplied" type="b" access="read"/>


    <!-- The origin of the configuration item. Known values include

         - fstab : data stems from the the /etc/fstab file
    -->
    <property name="Origin" type="s" access="read"/>

    <!-- Origin specific data used to convey a more precise origin of the
         configuration item, e.g. file name and/or line number

         - fstab: this is the line number of the file. Type is always 'i'
    -->
    <property name="OriginDetail" type="v" access="read"/>


    <!-- TODO:

         - Apply()
         - Unapply()

         - some way to express dependencies between items

         - Boolean property :Auto to specify whether the Target should
           automatically be configured whenever it is seen

         - Delete()
         - some way to add new ConfigurationItem objects
    -->

  </interface>

</node>
