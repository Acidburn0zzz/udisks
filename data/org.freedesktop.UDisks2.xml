<!DOCTYPE node PUBLIC
"-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
"http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<node name="/" xmlns:doc="http://www.freedesktop.org/dbus/1.0/doc.dtd">

  <!-- ********************************************************************** -->

  <interface name="org.freedesktop.UDisks2.LinuxSysfsDevice">
    <property name="SysfsPath" type="ay" access="read"/>
    <property name="Subsystem" type="ay" access="read"/>

    <signal name="UEvent">
      <arg name="action" type="ay"/>
    </signal>
  </interface>

  <!-- ********************************************************************** -->

  <interface name="org.freedesktop.UDisks2.Lun">
    <property name="Vendor" type="ay" access="read"/>
    <property name="Model" type="ay" access="read"/>
    <property name="Revision" type="ay" access="read"/>
    <property name="Serial" type="ay" access="read"/>
    <property name="WWN" type="s" access="read"/>
  </interface>

  <!-- ********************************************************************** -->

  <interface name="org.freedesktop.UDisks2.BlockDevice">
    <property name="Device" type="ay" access="read"/>
    <property name="Symlinks" type="aay" access="read"/>
    <property name="Major" type="x" access="read"/>
    <property name="Minor" type="x" access="read"/>
    <property name="Size" type="t" access="read"/>

    <!-- The preferred device to present in the UI - could be e.g.
         /dev/mapper/mpathk instead of /dev/dm-10
    -->
    <property name="PreferredDevice" type="ay" access="read"/>

    <!-- The org.freedesktop.UDisks2.Lun object that the block device belongs
         to, or '/' if no such object exists.
      -->
    <property name="Lun" type="o" access="read"/>

    <!-- Properties related what's on the block device -->
    <property name="IdUsage" type="s" access="read"/>
    <property name="IdType" type="s" access="read"/>
    <property name="IdVersion" type="s" access="read"/>
    <property name="IdLabel" type="ay" access="read"/>
    <property name="IdUUID" type="ay" access="read"/>

    <!-- Partition Table -->
    <property name="PartTable" type="b" access="read"/>
    <property name="PartTableScheme" type="s" access="read"/>

    <!-- Partition Table Entry -->
    <property name="PartEntry" type="b" access="read"/>
    <property name="PartEntryScheme" type="s" access="read"/>
    <property name="PartEntryType" type="s" access="read"/>
    <property name="PartEntryFlags" type="s" access="read"/>
    <property name="PartEntryOffset" type="t" access="read"/>
    <property name="PartEntrySize" type="t" access="read"/>
    <!-- The BlockDevice object the entry is part of ('/' if not an entry) -->
    <property name="PartEntryTable" type="o" access="read"/>

    <!-- Properties related to whether the device holds a filesystem -->
    <property name="FilesystemMountPoints" type="aay" access="read"/>
    <method name="FilesystemMount">
      <arg name="filesystem_type" direction="in" type="s"/>
      <arg name="options" direction="in" type="as"/>
      <arg name="mount_path" direction="out" type="ay"/>
    </method>
    <method name="FilesystemUnmount">
      <arg name="options" direction="in" type="as"/>
    </method>

    <!-- Loop Device -->
    <property name="LoopBackingFile" type="ay" access="read"/>
  </interface>

  <!-- ********************************************************************** -->

  <interface name="org.freedesktop.UDisks2.Job">
    <property name="Progress" type="d" access="read"/>
    <property name="StartTime" type="t" access="read"/>
    <property name="ExpectedEndTime" type="t" access="read"/>

    <method name="Cancel">
      <arg name="options" direction="in" type="as"/>
    </method>

    <signal name="Completed">
      <arg name="success" type="b"/>
      <arg name="message" type="s"/>
    </signal>
  </interface>

  <!-- ********************************************************************** -->

  <interface name="org.freedesktop.UDisks2.ConfigurationItem">

    <!-- Possible configuration types:

         - fsmount: The configuration directive for mounting a filesystem
    -->
    <property name="Type" type="s" access="read"/>

    <!-- The identification data used for identifying what target object to
         the configuration item to. Supported strings are

         - block:/path/to/dev/file - a path to a device file, e.g.
                                     /dev/disk/by-uuid/A2B8-8BC9
    -->
    <property name="Target" type="ay" access="read"/>

    <!-- A set of key/value pairs describing options used when applying the configuration.

         Type specific keys are always prefixed with "<type>:". Known keys include

         fsmount:path (ay)         -> Where to mount the target
         fsmount:type (ay)         -> The filesystem type to use
         fsmount:options (ay)      -> The mount options to use (comma separated list of options)
    -->
    <property name="Options" type="a{sv}" access="read"/>


    <!-- Whether the requested configuration can be applied at this point -->
    <property name="CanApply" type="b" access="read"/>

    <!-- Whether the requested configuration is currently applied -->
    <property name="IsApplied" type="b" access="read"/>


    <!-- The origin of the configuration item. Known values include

         - fstab : data stems from the the /etc/fstab file
    -->
    <property name="Origin" type="s" access="read"/>

    <!-- Origin specific data used to convey a more precise origin of the
         configuration item, e.g. file name and/or line number

         - fstab: this is the line number of the file. Type is always 'i'
    -->
    <property name="OriginDetail" type="v" access="read"/>


    <!-- TODO:

         - Apply()
         - Unapply()

         - some way to express dependencies between items

         - Boolean property :Auto to specify whether the Target should
           automatically be configured whenever it is seen

         - Delete()
         - some way to add new ConfigurationItem objects
    -->

  </interface>

</node>
