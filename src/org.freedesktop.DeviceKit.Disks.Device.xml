<!DOCTYPE node PUBLIC
"-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
"http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<node name="/">

  <interface name="org.freedesktop.DeviceKit.Disks.Device">

    <!-- BEGIN LIST OF METHODS -->

    <!-- TODO: docs -->
    <method name="Mount">
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <arg name="filesystem_type" direction="in" type="s"/>
      <arg name="options" direction="in" type="as"/>
      <arg name="mount_path" direction="out" type="s"/>
    </method>

    <!-- TODO: docs -->
    <method name="Unmount">
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <arg name="options" direction="in" type="as"/>
    </method>

    <!-- BEGIN LIST OF SIGNALS -->

    <!-- Something about the device changed -->
    <signal name="Changed"/>

    <!-- BEGIN LIST OF PROPERTIES

         A general note about properties: the set of values returned
         can be expected to grow in the future as hardware evolves.
         Care has been taken to both namespace some values (so
         applications can make educated guesses) and export both
         general and specific properties (such as id_usage
         vs. id_type).

         In general an empty string properties means "not set"; as the
         empty string "" is not a valid object we use the object path
         "/" to mean "not set" for object paths. -->

    <!-- The 'native-path' property is the OS native path for the
         device; on Linux this is the sysfs path. -->
    <property name="native-path" type="s" access="read"/>
    <property name="device-file" type="s" access="read"/>
    <property name="device-file-by-id" type="as" access="read"/>
    <property name="device-file-by-path" type="as" access="read"/>
    <property name="device-is-partition" type="b" access="read"/>
    <property name="device-is-partition-table" type="b" access="read"/>
    <property name="device-is-removable" type="b" access="read"/>
    <property name="device-is-media-available" type="b" access="read"/>
    <property name="device-is-drive" type="b" access="read"/>
    <property name="device-is-mounted" type="b" access="read"/>
    <property name="device-mount-path" type="s" access="read"/>
    <property name="device-size" type="t" access="read"/>
    <property name="device-block-size" type="t" access="read"/>

    <!-- the usage is a result of probing for signatures on the block
         device; known values are

           filesystem      - the device contains a file system; known
                             values for 'id-type' is the same as the
                             name of the OS fs driver e.g. 'vfat',
                             'ext3' and so on.

           crypto          - the device contains encrypted data. Known
                             values for 'id-type' are 'crypto_LUKS'.

           partitiontable  - the device is partitioned into other devices.
                             Known values for 'id-type' are
                              mbr  - Master Boot Record
                              embr - Extended Master Boot Record
                              apm  - Apple Partitoning Map
                              gpt  - GUID Partition Table

           raid            - the device is member of a RAID set or another
                             scheme that requires device assembly. Known
                             values for 'id-type' are TODO.

           other           - other signature found on the device

         The 'id-uuid' and 'id-label' properties, if set, are dependent
         on the 'id-type' property -->
    <property name="id-usage" type="s" access="read"/>
    <property name="id-type" type="s" access="read"/>
    <property name="id-version" type="s" access="read"/>
    <property name="id-uuid" type="s" access="read"/>
    <property name="id-label" type="s" access="read"/>

    <!-- the following properties are only set if the device is
         a partition (see 'device-is-partition'). Known values
         for the partitioning scheme are

           mbr  - Master Boot Record
           embr - Extended Master Boot Record
           apm  - Apple Partitoning Map
           gpt  - GUID Partition Table

         The 'partition-slave' property specifies what device
         the device in question is a partition of. The property
         'partition-number' is the number of the partition starting
         from 1 -->
    <property name="partition-slave" type="o" access="read"/>
    <property name="partition-scheme" type="s" access="read"/>
    <property name="partition-type" type="s" access="read"/>
    <property name="partition-label" type="s" access="read"/>
    <property name="partition-uuid" type="s" access="read"/>
    <property name="partition-flags" type="as" access="read"/>
    <property name="partition-number" type="i" access="read"/>
    <property name="partition-offset" type="t" access="read"/>
    <property name="partition-size" type="t" access="read"/>

    <!-- the type of partition table the deice contains; only set if
         'device-is-partition-table' is true. Known values are

           mbr  - Master Boot Record
           embr - Extended Master Boot Record
           apm  - Apple Partitoning Map
           gpt  - GUID Partition Table

         The 'partition-table-count' property specifies the number
         of partitions in the partition table. Note that the
         partitions may not be sequentially numbered (e.g.
         it's fine for 'partition-table-count' to report 2
         and 'partition-number' for the associated paritions
         report 1 resp. 4). The property 'partition-table-max-number'
         will contain the maximum value for 'partition-number'
         of any partitions.

         The 'partition-table-offsets' and 'partition-table-sizes'
         properties are arrays indexed by 'partition-number' and
         are of size 'partition-table-max-number'. It may contain
         holes in which case the offset will be 0. -->
    <property name="partition-table-scheme" type="s" access="read"/>
    <property name="partition-table-count" type="i" access="read"/>
    <property name="partition-table-max-number" type="i" access="read"/>
    <property name="partition-table-offsets" type="ai" access="read"/>
    <property name="partition-table-sizes" type="ai" access="read"/>

    <!-- properties for the drive -->
    <property name="drive-vendor" type="s" access="read"/>
    <property name="drive-model" type="s" access="read"/>
    <property name="drive-revision" type="s" access="read"/>
    <property name="drive-serial" type="s" access="read"/>

  </interface>

</node>
